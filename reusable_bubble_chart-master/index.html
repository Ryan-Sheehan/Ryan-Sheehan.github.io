
<html>
    <body>

<div class="chart-example" id="chart"><svg></svg></div>
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.4/nv.d3.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.5/nv.d3.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.6.0/d3.min.js"></script>
<script src="bubble_chart.js"></script>
<!-- D3 plugin -->  
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
    
    
    var json = {
  "href" : "https://api.spotify.com/v1/me/tracks?offset=0&limit=5",
  "items" : [ {
    "added_at" : "2017-08-11T16:11:39Z",
    "track" : {
      "album" : {
        "album_type" : "single",
        "artists" : [ {
          "external_urls" : {
            "spotify" : "https://open.spotify.com/artist/1Bl6wpkWCQ4KVgnASpvzzA"
          },
          "href" : "https://api.spotify.com/v1/artists/1Bl6wpkWCQ4KVgnASpvzzA",
          "id" : "1Bl6wpkWCQ4KVgnASpvzzA",
          "name" : "BROCKHAMPTON",
          "type" : "artist",
          "uri" : "spotify:artist:1Bl6wpkWCQ4KVgnASpvzzA"
        } ],
        "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
        "external_urls" : {
          "spotify" : "https://open.spotify.com/album/5gXGNnrSkjB12HoAm1YoTz"
        },
        "href" : "https://api.spotify.com/v1/albums/5gXGNnrSkjB12HoAm1YoTz",
        "id" : "5gXGNnrSkjB12HoAm1YoTz",
        "images" : [ {
          "height" : 640,
          "url" : "https://i.scdn.co/image/4050f77c8f9f8ef399a3ab5fc7ff85831edf4460",
          "width" : 640
        }, {
          "height" : 300,
          "url" : "https://i.scdn.co/image/525a51de375f380d4687a76848da5ac1356b7942",
          "width" : 300
        }, {
          "height" : 64,
          "url" : "https://i.scdn.co/image/d675a1ff5df00de019d78ac9820eb8d794fd2c00",
          "width" : 64
        } ],
        "name" : "Gummy",
        "type" : "album",
        "uri" : "spotify:album:5gXGNnrSkjB12HoAm1YoTz"
      },
      "artists" : [ {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/1Bl6wpkWCQ4KVgnASpvzzA"
        },
        "href" : "https://api.spotify.com/v1/artists/1Bl6wpkWCQ4KVgnASpvzzA",
        "id" : "1Bl6wpkWCQ4KVgnASpvzzA",
        "name" : "BROCKHAMPTON",
        "type" : "artist",
        "uri" : "spotify:artist:1Bl6wpkWCQ4KVgnASpvzzA"
      } ],
      "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
      "disc_number" : 1,
      "duration_ms" : 260833,
      "explicit" : true,
      "external_ids" : {
        "isrc" : "USUYG1153566"
      },
      "external_urls" : {
        "spotify" : "https://open.spotify.com/track/0FoegIiBvM4ND2CkPkt7Ve"
      },
      "href" : "https://api.spotify.com/v1/tracks/0FoegIiBvM4ND2CkPkt7Ve",
      "id" : "0FoegIiBvM4ND2CkPkt7Ve",
      "name" : "Gummy",
      "popularity" : 58,
      "preview_url" : "https://p.scdn.co/mp3-preview/174ef6bd89ec17a24f294b54f919c98922d54a4d?cid=8897482848704f2a8f8d7c79726a70d4",
      "track_number" : 1,
      "type" : "track",
      "uri" : "spotify:track:0FoegIiBvM4ND2CkPkt7Ve"
    }
  }, {
    "added_at" : "2017-08-11T15:57:24Z",
    "track" : {
      "album" : {
        "album_type" : "album",
        "artists" : [ {
          "external_urls" : {
            "spotify" : "https://open.spotify.com/artist/19eLuQmk9aCobbVDHc6eek"
          },
          "href" : "https://api.spotify.com/v1/artists/19eLuQmk9aCobbVDHc6eek",
          "id" : "19eLuQmk9aCobbVDHc6eek",
          "name" : "Louis Armstrong",
          "type" : "artist",
          "uri" : "spotify:artist:19eLuQmk9aCobbVDHc6eek"
        } ],
        "available_markets" : [ "CA", "MX", "US" ],
        "external_urls" : {
          "spotify" : "https://open.spotify.com/album/4ePSSZbkcek6jALbNtztI8"
        },
        "href" : "https://api.spotify.com/v1/albums/4ePSSZbkcek6jALbNtztI8",
        "id" : "4ePSSZbkcek6jALbNtztI8",
        "images" : [ {
          "height" : 640,
          "url" : "https://i.scdn.co/image/781fcf0ffd386ee4839317590340faf2a4162ad7",
          "width" : 640
        }, {
          "height" : 300,
          "url" : "https://i.scdn.co/image/1889ac86425953c25d34c291186d70f28a392c10",
          "width" : 300
        }, {
          "height" : 64,
          "url" : "https://i.scdn.co/image/cb2d0d9abcf86da7048f7cea3297abc784877dad",
          "width" : 64
        } ],
        "name" : "The Decca Singles 1935-1946",
        "type" : "album",
        "uri" : "spotify:album:4ePSSZbkcek6jALbNtztI8"
      },
      "artists" : [ {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/19eLuQmk9aCobbVDHc6eek"
        },
        "href" : "https://api.spotify.com/v1/artists/19eLuQmk9aCobbVDHc6eek",
        "id" : "19eLuQmk9aCobbVDHc6eek",
        "name" : "Louis Armstrong",
        "type" : "artist",
        "uri" : "spotify:artist:19eLuQmk9aCobbVDHc6eek"
      } ],
      "available_markets" : [ "CA", "MX", "US" ],
      "disc_number" : 6,
      "duration_ms" : 190438,
      "explicit" : false,
      "external_ids" : {
        "isrc" : "USMC14168797"
      },
      "external_urls" : {
        "spotify" : "https://open.spotify.com/track/4EdF45E5Bu6tjhHAtSTKy4"
      },
      "href" : "https://api.spotify.com/v1/tracks/4EdF45E5Bu6tjhHAtSTKy4",
      "id" : "4EdF45E5Bu6tjhHAtSTKy4",
      "name" : "I Cover The Waterfront",
      "popularity" : 10,
      "preview_url" : "https://p.scdn.co/mp3-preview/856cf657d07dfc0b7af33da3f21eb9d22139dec4?cid=8897482848704f2a8f8d7c79726a70d4",
      "track_number" : 2,
      "type" : "track",
      "uri" : "spotify:track:4EdF45E5Bu6tjhHAtSTKy4"
    }
  }, {
    "added_at" : "2017-08-07T23:28:29Z",
    "track" : {
      "album" : {
        "album_type" : "single",
        "artists" : [ {
          "external_urls" : {
            "spotify" : "https://open.spotify.com/artist/5HYNPEO2NNBONQkp3Mvwvc"
          },
          "href" : "https://api.spotify.com/v1/artists/5HYNPEO2NNBONQkp3Mvwvc",
          "id" : "5HYNPEO2NNBONQkp3Mvwvc",
          "name" : "Scott Bradlee's Postmodern Jukebox",
          "type" : "artist",
          "uri" : "spotify:artist:5HYNPEO2NNBONQkp3Mvwvc"
        }, {
          "external_urls" : {
            "spotify" : "https://open.spotify.com/artist/7MmKfvl13ktxYrbHh9JkZA"
          },
          "href" : "https://api.spotify.com/v1/artists/7MmKfvl13ktxYrbHh9JkZA",
          "id" : "7MmKfvl13ktxYrbHh9JkZA",
          "name" : "Pia Toscano",
          "type" : "artist",
          "uri" : "spotify:artist:7MmKfvl13ktxYrbHh9JkZA"
        }, {
          "external_urls" : {
            "spotify" : "https://open.spotify.com/artist/6eVJ2qFqaNFk3c6G0fAB0G"
          },
          "href" : "https://api.spotify.com/v1/artists/6eVJ2qFqaNFk3c6G0fAB0G",
          "id" : "6eVJ2qFqaNFk3c6G0fAB0G",
          "name" : "Stefano",
          "type" : "artist",
          "uri" : "spotify:artist:6eVJ2qFqaNFk3c6G0fAB0G"
        } ],
        "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
        "external_urls" : {
          "spotify" : "https://open.spotify.com/album/2fnzCDrJHx9XHFt38eDS1j"
        },
        "href" : "https://api.spotify.com/v1/albums/2fnzCDrJHx9XHFt38eDS1j",
        "id" : "2fnzCDrJHx9XHFt38eDS1j",
        "images" : [ {
          "height" : 640,
          "url" : "https://i.scdn.co/image/9fa204386f62e0c3dd31fbabb876b351a183790a",
          "width" : 640
        }, {
          "height" : 300,
          "url" : "https://i.scdn.co/image/be54c75b6ee5eead5bbea8b72a35f2a4e9617135",
          "width" : 300
        }, {
          "height" : 64,
          "url" : "https://i.scdn.co/image/996f2262fda02ac1e7a1610f560683aa1457c203",
          "width" : 64
        } ],
        "name" : "The Prayer",
        "type" : "album",
        "uri" : "spotify:album:2fnzCDrJHx9XHFt38eDS1j"
      },
      "artists" : [ {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/5HYNPEO2NNBONQkp3Mvwvc"
        },
        "href" : "https://api.spotify.com/v1/artists/5HYNPEO2NNBONQkp3Mvwvc",
        "id" : "5HYNPEO2NNBONQkp3Mvwvc",
        "name" : "Scott Bradlee's Postmodern Jukebox",
        "type" : "artist",
        "uri" : "spotify:artist:5HYNPEO2NNBONQkp3Mvwvc"
      }, {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/7MmKfvl13ktxYrbHh9JkZA"
        },
        "href" : "https://api.spotify.com/v1/artists/7MmKfvl13ktxYrbHh9JkZA",
        "id" : "7MmKfvl13ktxYrbHh9JkZA",
        "name" : "Pia Toscano",
        "type" : "artist",
        "uri" : "spotify:artist:7MmKfvl13ktxYrbHh9JkZA"
      }, {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/6eVJ2qFqaNFk3c6G0fAB0G"
        },
        "href" : "https://api.spotify.com/v1/artists/6eVJ2qFqaNFk3c6G0fAB0G",
        "id" : "6eVJ2qFqaNFk3c6G0fAB0G",
        "name" : "Stefano",
        "type" : "artist",
        "uri" : "spotify:artist:6eVJ2qFqaNFk3c6G0fAB0G"
      } ],
      "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
      "disc_number" : 1,
      "duration_ms" : 213500,
      "explicit" : false,
      "external_ids" : {
        "isrc" : "GBDMT1700306"
      },
      "external_urls" : {
        "spotify" : "https://open.spotify.com/track/09ZhbFLlugcWv02kev4TpA"
      },
      "href" : "https://api.spotify.com/v1/tracks/09ZhbFLlugcWv02kev4TpA",
      "id" : "09ZhbFLlugcWv02kev4TpA",
      "name" : "The Prayer",
      "popularity" : 45,
      "preview_url" : "https://p.scdn.co/mp3-preview/97ff1ba7564cce04c1e9f776ac189b8fb461e8bb?cid=8897482848704f2a8f8d7c79726a70d4",
      "track_number" : 1,
      "type" : "track",
      "uri" : "spotify:track:09ZhbFLlugcWv02kev4TpA"
    }
  }, {
    "added_at" : "2017-08-07T14:48:41Z",
    "track" : {
      "album" : {
        "album_type" : "album",
        "artists" : [ {
          "external_urls" : {
            "spotify" : "https://open.spotify.com/artist/5XenQ7XfcvQdfIbpLEFaKQ"
          },
          "href" : "https://api.spotify.com/v1/artists/5XenQ7XfcvQdfIbpLEFaKQ",
          "id" : "5XenQ7XfcvQdfIbpLEFaKQ",
          "name" : "GoldLink",
          "type" : "artist",
          "uri" : "spotify:artist:5XenQ7XfcvQdfIbpLEFaKQ"
        } ],
        "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
        "external_urls" : {
          "spotify" : "https://open.spotify.com/album/18JrBX1QkpnUSJF3oxX6RX"
        },
        "href" : "https://api.spotify.com/v1/albums/18JrBX1QkpnUSJF3oxX6RX",
        "id" : "18JrBX1QkpnUSJF3oxX6RX",
        "images" : [ {
          "height" : 640,
          "url" : "https://i.scdn.co/image/b51d5f12a764bcd7e2bd40926d2459cbb53edbae",
          "width" : 640
        }, {
          "height" : 300,
          "url" : "https://i.scdn.co/image/70d370d4287b37508c2b69aa138eae5d70827e24",
          "width" : 300
        }, {
          "height" : 64,
          "url" : "https://i.scdn.co/image/8060ac92fa915c406a9a23d747cdfa40fd4aa591",
          "width" : 64
        } ],
        "name" : "At What Cost",
        "type" : "album",
        "uri" : "spotify:album:18JrBX1QkpnUSJF3oxX6RX"
      },
      "artists" : [ {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/5XenQ7XfcvQdfIbpLEFaKQ"
        },
        "href" : "https://api.spotify.com/v1/artists/5XenQ7XfcvQdfIbpLEFaKQ",
        "id" : "5XenQ7XfcvQdfIbpLEFaKQ",
        "name" : "GoldLink",
        "type" : "artist",
        "uri" : "spotify:artist:5XenQ7XfcvQdfIbpLEFaKQ"
      }, {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/3OqgnoaUHWX4ih4oAL0zzQ"
        },
        "href" : "https://api.spotify.com/v1/artists/3OqgnoaUHWX4ih4oAL0zzQ",
        "id" : "3OqgnoaUHWX4ih4oAL0zzQ",
        "name" : "Hare Squead",
        "type" : "artist",
        "uri" : "spotify:artist:3OqgnoaUHWX4ih4oAL0zzQ"
      } ],
      "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
      "disc_number" : 1,
      "duration_ms" : 183760,
      "explicit" : true,
      "external_ids" : {
        "isrc" : "USRC11700595"
      },
      "external_urls" : {
        "spotify" : "https://open.spotify.com/track/564oa00vY05d1uYnTEAAmE"
      },
      "href" : "https://api.spotify.com/v1/tracks/564oa00vY05d1uYnTEAAmE",
      "id" : "564oa00vY05d1uYnTEAAmE",
      "name" : "Herside Story",
      "popularity" : 66,
      "preview_url" : "https://p.scdn.co/mp3-preview/dedafbcffbbc4f435f87f1515b7932960cd7278f?cid=8897482848704f2a8f8d7c79726a70d4",
      "track_number" : 6,
      "type" : "track",
      "uri" : "spotify:track:564oa00vY05d1uYnTEAAmE"
    }
  }, {
    "added_at" : "2017-08-07T13:33:55Z",
    "track" : {
      "album" : {
        "album_type" : "single",
        "artists" : [ {
          "external_urls" : {
            "spotify" : "https://open.spotify.com/artist/1ybINI1qPiFbwDXamRtwxD"
          },
          "href" : "https://api.spotify.com/v1/artists/1ybINI1qPiFbwDXamRtwxD",
          "id" : "1ybINI1qPiFbwDXamRtwxD",
          "name" : "Smino",
          "type" : "artist",
          "uri" : "spotify:artist:1ybINI1qPiFbwDXamRtwxD"
        } ],
        "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
        "external_urls" : {
          "spotify" : "https://open.spotify.com/album/5b3tupDh9sl0Mf9ZjR989N"
        },
        "href" : "https://api.spotify.com/v1/albums/5b3tupDh9sl0Mf9ZjR989N",
        "id" : "5b3tupDh9sl0Mf9ZjR989N",
        "images" : [ {
          "height" : 640,
          "url" : "https://i.scdn.co/image/a5bfebeff0d8d5f32591d926b7ab4191c08c4762",
          "width" : 640
        }, {
          "height" : 300,
          "url" : "https://i.scdn.co/image/317ad1a38a98bd14a49191694d4029ebd4762374",
          "width" : 300
        }, {
          "height" : 64,
          "url" : "https://i.scdn.co/image/6b8a8b9d0ce02c03e998a631088b4bd67e091399",
          "width" : 64
        } ],
        "name" : "S!ck S!ck S!ck",
        "type" : "album",
        "uri" : "spotify:album:5b3tupDh9sl0Mf9ZjR989N"
      },
      "artists" : [ {
        "external_urls" : {
          "spotify" : "https://open.spotify.com/artist/1ybINI1qPiFbwDXamRtwxD"
        },
        "href" : "https://api.spotify.com/v1/artists/1ybINI1qPiFbwDXamRtwxD",
        "id" : "1ybINI1qPiFbwDXamRtwxD",
        "name" : "Smino",
        "type" : "artist",
        "uri" : "spotify:artist:1ybINI1qPiFbwDXamRtwxD"
      } ],
      "available_markets" : [ "AD", "AR", "AT", "AU", "BE", "BG", "BO", "BR", "CA", "CH", "CL", "CO", "CR", "CY", "CZ", "DE", "DK", "DO", "EC", "EE", "ES", "FI", "FR", "GB", "GR", "GT", "HK", "HN", "HU", "ID", "IE", "IS", "IT", "JP", "LI", "LT", "LU", "LV", "MC", "MT", "MX", "MY", "NI", "NL", "NO", "NZ", "PA", "PE", "PH", "PL", "PT", "PY", "SE", "SG", "SK", "SV", "TR", "TW", "US", "UY" ],
      "disc_number" : 1,
      "duration_ms" : 264125,
      "explicit" : true,
      "external_ids" : {
        "isrc" : "TCACU1628193"
      },
      "external_urls" : {
        "spotify" : "https://open.spotify.com/track/0E6GxVs1NLV9FxK9rK4K1G"
      },
      "href" : "https://api.spotify.com/v1/tracks/0E6GxVs1NLV9FxK9rK4K1G",
      "id" : "0E6GxVs1NLV9FxK9rK4K1G",
      "name" : "Ruby Red",
      "popularity" : 56,
      "preview_url" : "https://p.scdn.co/mp3-preview/709cbbdd6348e78de635c84dcef04e7c172e6417?cid=8897482848704f2a8f8d7c79726a70d4",
      "track_number" : 1,
      "type" : "track",
      "uri" : "spotify:track:0E6GxVs1NLV9FxK9rK4K1G"
    }
  } ],
  "limit" : 5,
  "next" : "https://api.spotify.com/v1/me/tracks?offset=5&limit=5",
  "offset" : 0,
  "previous" : null,
  "total" : 1023
};
    

          const numSongsByArtist = json.items.reduce(function(obj, item) {
          var artists = item.track.artists;
            for(var i = 0; i < artists.length; i++){
             var currentArtist = artists[i].name;
             if (!obj[currentArtist]) {
              obj[currentArtist] = 0;
             }
             obj[currentArtist]++;
             return obj;
          }
          }, {});
    
    
                function processData(data) {
            var obj = data;
            var newDataSet = [];
            for(var prop in obj) {
              newDataSet.push({name: prop, className: prop.toLowerCase(), size: obj[prop]});
            }
            return {children: newDataSet};
          }
    
    
      var diameter = 20, //max size of the bubbles
    color    = d3.scale.category20b(); //color category

var bubble = d3.layout.pack()
    .sort(null)
    .size([diameter, diameter])
    .padding(1.5);

var svg = d3.select("body")
    .append("svg")
    .attr("width", diameter)
    .attr("height", diameter)
    .attr("class", "bubble");


    //bubbles needs very specific format, convert data to this.
    var nodes = bubble.nodes(processData(numSongsByArtist)).filter(function(d) { return !d.children; });
    console.log(nodes);

    //setup the chart
    var bubbles = svg.append("g")
        .attr("transform", "translate(0,0)")
        .selectAll(".bubble")
        .data(nodes)
        .enter();

    //create the bubbles
    bubbles.append("circle")
        .attr("r", function(d){ return d.depth); })
        .attr("cx", function(d){  return Math.floor(Math.random()*10); })
        .attr("cy", function(d){ return Math.floor(Math.random()*10); })
        .style("fill", function(d) { return color(d.value); });



    

</script>
    </body>
</html>
